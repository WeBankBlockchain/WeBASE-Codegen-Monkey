# 更新历史

### V1.1.0 
- 大幅重构了系统的代码，使得系统安装多模块的方式可以灵活组装。
- 重构了系统服务层的代码。
- 适配了FISCO-BCOS2.0.0 和 web3sdk2.0.5
- 修改了Java文件包名和类名映射的检查，修改了报错提示的方式
- 新增两个Event API查询，支持通过指定任意and和or条件或任意两个参数进行查询。
- 增加对method解析中selector方法忽略的判断
- 适配DynamicBytes和Boolean的支持
- 对所有method表，增加了contractAddress字段
- 修复了sharding-jdbc-spring-boot-starter分页查询的问题
- 修改了event表的命名方式，数据库表明以_event为后缀
- 修改了account、constuctor method解析的方式，改为了读取runtime code来判断
- 增加了对异构合约相同methodId场景的支持，将method解析改为按合约为维度
- 新增了account specification API查询
- 优化了部分性能，如优化了调用流程，添加了部分查询的EhCache机制
- 修改了文档的组织样式
- 支持了部分定长数组的映射方式
- 支持了Java文件中，byte数组和List
- 修改了服务启停的方式，增加了全路径判断，防止进程误杀
- 修改了默认启动端口为5200
- 修改了数据库默认字段添加前缀『_』
- 修改了证书加载的默认方式，改为默认从config路径下加载
- 修复了部分API参数为空的检测
- 修复了byte数组转换错误的bug
- 修复了默认分库inline表达式下不支持between的错误


---

#### V1.0.0 （2019-06-27）
- 优化了单机模式下的任务处理流程和性能。

---

#### V0.7.0 (2019-06-20)
- 适配FISCO-BCOS 2.0.0-rc3
- 修复了不同环境下编译的合约无法导出account和contructor的缺陷
- 重构了部分不规范日志打印方式
- 重命名项目名，并适配
- 去除了elastic-job的事件监听日志
- 修复了不同编译器下构造函数解析的bug

---

#### V0.6.0 (2019-05-30)
- 适配FISCO-BCOS 2.0 RC1。
- 重构了主要的日志打印，便于显示和监控。
- 新增了任务准备环节的事务控制。
- 增加了对任务控制环节的扫描检查阶段，可自动检查缺块或少块等。
- 修复了合约无event会报错的问题。
- 将Mysql字符集从utf8改为utf8mb4。
- 新增支持『原始数据命名』的数据库字段命名方式。
- 新增支持数据库表的字段添加指定的前缀和后缀。
- 提供了数据导出工具导出的监控脚本；

---

#### V0.5.0 (2019-04-02)

- 增加了数据导出的业务监控可视化页面，并支持自动化配置；
- 重构数据回滚和异常处理的流程,增加了数据下载异常、超时的判断和处理；
- 增加了链分叉判断的处理逻辑；
- 重构了单机模式数据同步的流程和数据结构，合并为统一的block_task_pool表；
- 支持设置从某个时间或某个区块高度导出区块数据；
- 支持手动回滚并重新导出某个区块数据；

---

#### V0.4.0 (2019-03-18)

- 集成sharding-jdbc，支持分库分表导出
- 集成elastic-job，支持集群部署
- 支持静态数组StaticArray的导出

---

#### V0.3.0 （2018-12-25）

- 增加OpenAPI,支持以Restful的接口直接获取后台数据；
- 支持Method数据导出的开关；
- 修复各类已知bug；
- 完善设计等文档；

---

#### V0.2.0 （2018-12-21）

- 增加Method数据depot功能；
- 增加合约地址depot功能；
- 修改任务分配方式，改为以Block为单位；
- 支持智能下载的策略；
- 支持Bytes等格式数据的解析；
- 修改depot表的结构；

---

#### V0.1.0 （2018-12-18）
- 支持合约Event数据导出；
- 支持根据脚本自动生成和执行；
- 可基于多线程导出Events数据；
